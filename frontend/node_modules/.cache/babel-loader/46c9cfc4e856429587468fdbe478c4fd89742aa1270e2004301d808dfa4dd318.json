{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport axiosInstance from '../utils/axiosInstance';\nconst initialState = {\n  isAuthenticated: false,\n  user: null\n};\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {\n    loginSuccess(state, action) {\n      state.isAuthenticated = true;\n      state.user = action.payload;\n      localStorage.setItem('userId', action.payload.id); // Store user ID in localStorage\n    },\n    logoutSuccess(state) {\n      state.isAuthenticated = false;\n      state.user = null;\n      localStorage.removeItem('userId');\n    }\n  }\n});\nexport const {\n  loginSuccess,\n  logoutSuccess\n} = authSlice.actions;\nexport const login = credentials => async dispatch => {\n  try {\n    const response = await axiosInstance.post('/auth/login', credentials);\n    dispatch(loginSuccess(response.data.user));\n  } catch (error) {\n    console.error('Login failed:', error);\n  }\n};\nexport const logout = () => async dispatch => {\n  dispatch(logoutSuccess());\n};\nexport default authSlice.reducer;","map":{"version":3,"names":["createSlice","axiosInstance","initialState","isAuthenticated","user","authSlice","name","reducers","loginSuccess","state","action","payload","localStorage","setItem","id","logoutSuccess","removeItem","actions","login","credentials","dispatch","response","post","data","error","console","logout","reducer"],"sources":["E:/terra-dominus/frontend/src/redux/authSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\nimport axiosInstance from '../utils/axiosInstance';\r\n\r\nconst initialState = {\r\n  isAuthenticated: false,\r\n  user: null,\r\n};\r\n\r\nconst authSlice = createSlice({\r\n  name: 'auth',\r\n  initialState,\r\n  reducers: {\r\n    loginSuccess(state, action) {\r\n      state.isAuthenticated = true;\r\n      state.user = action.payload;\r\n      localStorage.setItem('userId', action.payload.id); // Store user ID in localStorage\r\n    },\r\n    logoutSuccess(state) {\r\n      state.isAuthenticated = false;\r\n      state.user = null;\r\n      localStorage.removeItem('userId');\r\n    },\r\n  },\r\n});\r\n\r\nexport const { loginSuccess, logoutSuccess } = authSlice.actions;\r\n\r\nexport const login = (credentials) => async (dispatch) => {\r\n  try {\r\n    const response = await axiosInstance.post('/auth/login', credentials);\r\n    dispatch(loginSuccess(response.data.user));\r\n  } catch (error) {\r\n    console.error('Login failed:', error);\r\n  }\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  dispatch(logoutSuccess());\r\n};\r\n\r\nexport default authSlice.reducer;\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,aAAa,MAAM,wBAAwB;AAElD,MAAMC,YAAY,GAAG;EACnBC,eAAe,EAAE,KAAK;EACtBC,IAAI,EAAE;AACR,CAAC;AAED,MAAMC,SAAS,GAAGL,WAAW,CAAC;EAC5BM,IAAI,EAAE,MAAM;EACZJ,YAAY;EACZK,QAAQ,EAAE;IACRC,YAAYA,CAACC,KAAK,EAAEC,MAAM,EAAE;MAC1BD,KAAK,CAACN,eAAe,GAAG,IAAI;MAC5BM,KAAK,CAACL,IAAI,GAAGM,MAAM,CAACC,OAAO;MAC3BC,YAAY,CAACC,OAAO,CAAC,QAAQ,EAAEH,MAAM,CAACC,OAAO,CAACG,EAAE,CAAC,CAAC,CAAC;IACrD,CAAC;IACDC,aAAaA,CAACN,KAAK,EAAE;MACnBA,KAAK,CAACN,eAAe,GAAG,KAAK;MAC7BM,KAAK,CAACL,IAAI,GAAG,IAAI;MACjBQ,YAAY,CAACI,UAAU,CAAC,QAAQ,CAAC;IACnC;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAER,YAAY;EAAEO;AAAc,CAAC,GAAGV,SAAS,CAACY,OAAO;AAEhE,OAAO,MAAMC,KAAK,GAAIC,WAAW,IAAK,MAAOC,QAAQ,IAAK;EACxD,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMpB,aAAa,CAACqB,IAAI,CAAC,aAAa,EAAEH,WAAW,CAAC;IACrEC,QAAQ,CAACZ,YAAY,CAACa,QAAQ,CAACE,IAAI,CAACnB,IAAI,CAAC,CAAC;EAC5C,CAAC,CAAC,OAAOoB,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;EACvC;AACF,CAAC;AAED,OAAO,MAAME,MAAM,GAAGA,CAAA,KAAM,MAAON,QAAQ,IAAK;EAC9CA,QAAQ,CAACL,aAAa,CAAC,CAAC,CAAC;AAC3B,CAAC;AAED,eAAeV,SAAS,CAACsB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
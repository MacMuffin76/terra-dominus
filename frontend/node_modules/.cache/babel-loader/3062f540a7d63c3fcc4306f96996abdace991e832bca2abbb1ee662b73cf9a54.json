{"ast":null,"code":"var _jsxFileName = \"E:\\\\terra-dominus\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { fetchResources } from './redux/resourceSlice';\nimport Menu from './components/Menu';\nimport Dashboard from './components/Dashboard';\nimport Resources from './components/Resources';\nimport Facilities from './components/Facilities';\nimport Research from './components/Research';\nimport Defense from './components/Defense';\nimport Fleet from './components/Fleet';\nimport Alliance from './components/Alliance';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport './App.css';\nimport io from 'socket.io-client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const dispatch = useDispatch();\n  useEffect(() => {\n    const userId = localStorage.getItem('userId');\n    if (userId) {\n      dispatch(fetchResources(userId));\n    }\n    const socket = io('http://localhost:5000');\n    socket.on('connect', () => {\n      console.log('WebSocket connection opened');\n      if (userId) {\n        socket.emit('user_connected', {\n          userId\n        });\n      }\n    });\n    socket.on('resources', updatedResources => {\n      console.log('Received resources:', updatedResources);\n      dispatch(fetchResources(userId)); // Actualiser les ressources à chaque message\n    });\n    socket.on('disconnect', () => {\n      console.log('WebSocket connection closed');\n    });\n    socket.on('error', error => {\n      console.error('WebSocket error:', error);\n    });\n    return () => {\n      socket.close();\n    };\n  }, [dispatch]);\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(Menu, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/dashboard\",\n          component: Dashboard\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/resources\",\n          component: Resources\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/facilities\",\n          component: Facilities\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/research\",\n          component: Research\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/defense\",\n          component: Defense\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/fleet\",\n          component: Fleet\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/alliance\",\n          component: Alliance\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/login\",\n          component: Login\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/register\",\n          component: Register\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"rAh3tY+Iv6hWC9AI4Dm+rCbkwNE=\", false, function () {\n  return [useDispatch];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","BrowserRouter","Router","Route","Switch","useDispatch","fetchResources","Menu","Dashboard","Resources","Facilities","Research","Defense","Fleet","Alliance","Login","Register","io","jsxDEV","_jsxDEV","App","_s","dispatch","userId","localStorage","getItem","socket","on","console","log","emit","updatedResources","error","close","children","className","fileName","_jsxFileName","lineNumber","columnNumber","path","component","_c","$RefreshReg$"],"sources":["E:/terra-dominus/frontend/src/App.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { fetchResources } from './redux/resourceSlice';\r\nimport Menu from './components/Menu';\r\nimport Dashboard from './components/Dashboard';\r\nimport Resources from './components/Resources';\r\nimport Facilities from './components/Facilities';\r\nimport Research from './components/Research';\r\nimport Defense from './components/Defense';\r\nimport Fleet from './components/Fleet';\r\nimport Alliance from './components/Alliance';\r\nimport Login from './components/Login';\r\nimport Register from './components/Register';\r\nimport './App.css';\r\nimport io from 'socket.io-client';\r\n\r\nconst App = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    const userId = localStorage.getItem('userId');\r\n    if (userId) {\r\n      dispatch(fetchResources(userId));\r\n    }\r\n\r\n    const socket = io('http://localhost:5000');\r\n    \r\n    socket.on('connect', () => {\r\n      console.log('WebSocket connection opened');\r\n      if (userId) {\r\n        socket.emit('user_connected', { userId });\r\n      }\r\n    });\r\n\r\n    socket.on('resources', (updatedResources) => {\r\n      console.log('Received resources:', updatedResources);\r\n      dispatch(fetchResources(userId)); // Actualiser les ressources à chaque message\r\n    });\r\n\r\n    socket.on('disconnect', () => {\r\n      console.log('WebSocket connection closed');\r\n    });\r\n\r\n    socket.on('error', (error) => {\r\n      console.error('WebSocket error:', error);\r\n    });\r\n\r\n    return () => {\r\n      socket.close();\r\n    };\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <Router>\r\n      <div className=\"App\">\r\n        <Menu />\r\n        <Switch>\r\n          <Route path=\"/dashboard\" component={Dashboard} />\r\n          <Route path=\"/resources\" component={Resources} />\r\n          <Route path=\"/facilities\" component={Facilities} />\r\n          <Route path=\"/research\" component={Research} />\r\n          <Route path=\"/defense\" component={Defense} />\r\n          <Route path=\"/fleet\" component={Fleet} />\r\n          <Route path=\"/alliance\" component={Alliance} />\r\n          <Route path=\"/login\" component={Login} />\r\n          <Route path=\"/register\" component={Register} />\r\n        </Switch>\r\n      </div>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}